webpackJsonp([1],{HIvS:function(t,e){},M5Rw:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),o=n("Gu7T"),r=n.n(o);var a=function(t,e){var n=t-.5+Math.random()*(e-t+1);return Math.round(n)};var c=function(t){return t.reduce(function(t,e){return t[e[0]]?t[e[0]].push(e[1]):t[e[0]]=[e[1]],t},{})},i=n("d7EF"),u=n.n(i);var l=function(t,e){var n=u()(e,2),s=n[0],o=n[1];return t.findIndex(function(t){return t[0]===s&&t[1]===o})},d={name:"Seat",props:{isBooked:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},seatNumber:{type:Number,required:!0}},methods:{select:function(){this.isBooked||this.$emit("select",this.seatNumber)}},computed:{styles:function(){return{"seat--selected":this.isSelected,"seat--booked":this.isBooked}}}},h={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"seat",class:this.styles,on:{click:this.select}},[this._v("\n  "+this._s(this.seatNumber)+"\n")])},staticRenderFns:[]};var f=n("VU/8")(d,h,!1,function(t){n("M5Rw")},"data-v-1df4a074",null).exports,p={name:"Row",props:{booked:{type:Array,default:function(){return[]}},selected:{type:Array,default:function(){return[]}},rowNumber:{type:Number,required:!0},seatsCount:{type:Number,reauired:!0}},components:{Seat:f},methods:{isBooked:function(t){return this.booked.indexOf(t)>-1},isSelected:function(t){return this.selected.indexOf(t)>-1},toggleSelection:function(t){this.$emit("toggle",[this.rowNumber,t])}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},t._l(t.seatsCount,function(e){return n("seat",{key:e,attrs:{"seat-number":e,"is-booked":t.isBooked(e),"is-selected":t.isSelected(e)},on:{select:t.toggleSelection}})}))},staticRenderFns:[]};var m=n("VU/8")(p,v,!1,function(t){n("HIvS")},"data-v-7f8daf78",null).exports,_={props:{seatCost:{type:Number,required:!0},seatsToBuy:{type:Array,default:function(){return[]}}},methods:{buy:function(){this.$emit("buy")},cancel:function(){this.$emit("cancel")}},computed:{total:function(){return this.seatCost*this.seatsToBuy.length+" rubles"},seatsSorted:function(){return[].concat(r()(this.seatsToBuy)).sort(function(t,e){return t[0]-e[0]||t[1]-e[1]})}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart"},[n("div",{staticClass:"cart__top"},[n("h1",[t._v("\n      Cart\n    ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.seatsToBuy.length,expression:"!seatsToBuy.length"}],staticClass:"cart__empty"},[t._v("\n      Your cart is empty\n    ")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.seatsToBuy.length,expression:"seatsToBuy.length"}],staticClass:"cart__bottom"},[n("div",{staticClass:"cart__chosen"},[t._v("\n      You have chosen:\n      "),n("ul",{staticClass:"cart__chosen__list"},t._l(t.seatsSorted,function(e,s){return n("li",{key:s},[t._v("\n          "+t._s(e[0])+" row "+t._s(e[1])+" seat\n        ")])}))]),t._v(" "),n("div",{staticClass:"cart__amount"},[t._v("\n      Total cost: "+t._s(t.total)+"\n    ")]),t._v(" "),n("div",{staticClass:"cart__controls"},[n("button",{attrs:{type:"button",name:"buy"},on:{click:t.buy}},[t._v("\n        Buy\n      ")]),t._v(" "),n("button",{attrs:{type:"button",name:"cancel"},on:{click:t.cancel}},[t._v("\n        Cancel\n      ")])])])])},staticRenderFns:[]};var b=n("VU/8")(_,y,!1,function(t){n("VTtH")},null,null).exports,k={name:"Cinema",props:{rows:{type:Number,default:10},seats:{type:Number,default:10},seatPrice:{type:Number,default:100},bookedPlaces:{type:Array,default:function(){for(var t=[];t.length<10;){var e=[a(1,this.rows),a(1,this.seats)];l(t,e)>-1||t.push(e)}return t}}},components:{Row:m,Cart:b},methods:{applyOrder:function(){this.booked=[].concat(r()(this.booked),r()(this.chosen)),this.clearCart(),window.alert("Thanks for your order! Have a nice watching! =)")},clearCart:function(){this.chosen=[]},getBooked:function(t){return this.bookedMapped[t]||[]},getSelected:function(t){return this.chosenMapped[t]||[]},setSelected:function(t){var e=l(this.chosen,t);e>-1?this.chosen.splice(e,1):this.chosen.push(t)}},computed:{chosenMapped:function(){return c(this.chosen)},bookedMapped:function(){return c(this.booked)}},data:function(){return{chosen:[],booked:this.bookedPlaces}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cinema"},[n("div",{staticClass:"cinema__plan"},t._l(t.rows,function(e){return n("row",{key:e,attrs:{"seats-count":t.seats,"row-number":e,booked:t.getBooked(e),selected:t.getSelected(e)},on:{toggle:t.setSelected}})})),t._v(" "),n("cart",{staticClass:"cinema__cart",attrs:{"seat-cost":t.seatPrice,"seats-to-buy":t.chosen},on:{buy:t.applyOrder,cancel:t.clearCart}})],1)},staticRenderFns:[]};var C=n("VU/8")(k,w,!1,function(t){n("Tsg0")},"data-v-4f411b45",null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:C},template:"<App />"})},Tsg0:function(t,e){},VTtH:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.517b29d6423b82f772bb.js.map